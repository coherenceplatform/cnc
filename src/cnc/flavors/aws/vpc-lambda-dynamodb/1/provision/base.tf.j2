{% block state %}
terraform {
  backend "local" {
    path = "{{ config_renderer.working_dir }}/.terraform/{{ config_renderer.tf_state_namespace }}.tfstate"
  }
}
{% endblock %}

{% if not output_only %}

{% block var_environments %}
{% include "partials/variables/environments.tf.j2" %}
{% endblock var_environments%}

{% block var_vpc %}
{% include "partials/variables/vpc.tf.j2" %}
{% endblock var_vpc%}

{% block var_lambda %}
{% include "partials/variables/lambda.tf.j2" %}
{% endblock var_lambda%}

{% block var_dynamodb %}
{% include "partials/variables/dynamodb.tf.j2" %}
{% endblock var_dynamodb%}

{% block providers %}
{% include "partials/collection/providers.tf.j2" %}
{% endblock providers%}

{% block vpc %}
{% include "partials/collection/vpc.tf.j2" %}
{% endblock vpc%}

{% block lambda %}
{% include "partials/collection/lambda.tf.j2" %}
{% endblock lambda%}

{% block dynamodb %}
{% include "partials/collection/dynamodb.tf.j2" %}
{% endblock dynamodb%}

{% block collection %}{% endblock collection %}

{% endif %}